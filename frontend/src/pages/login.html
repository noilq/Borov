<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <form action="/user/login" method="post">
        <label for="login">Login:</label>
        <input type="text" name="login" id="login"><br>
        <label for="password_hash">Password:</label>
        <input type="password" name="password_hash" id="password_hash">
        <input type="submit" value="Login" id="submit">
    </form>
    <script>
        document.getElementById("submit").onclick = function (event) {
            event.preventDefault();
            window.localStorage.login = document.getElementById("login").value;
            $.ajax({
                method: "POST",
                url: "/user/login",
                data: {login: $("#login").val(), password_hash: $("#password_hash").val()},
                success: function (result) {
                    if(result.success){
                        console.log(result);
                        window.location.replace("/user/profile");
                    }
                }
            })
        }
    </script>
</body>
</html>